<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css')}}">
</head>
<body>
    <div class="back_home">
        <svg width="24" height="24" viewBox="0 0 800 800" fill="none" xmlns="http://www.w3.org/2000/svg">
            <path d="M200 400H600M200 400L366.667 233.333M200 400L366.667 566.667" stroke-width="60"
                stroke-linecap="round" stroke-linejoin="round" />
        </svg>
        <a type="submit" href="{{url_for('index')}}">Home</a>
    </div>
        <div class="auth_container">
            <div class="auth_header">
                <h2>Criar conta</h2>
            </div>
            <form method="POST" class="auth_form">
                <div class="auth_section">
                    <label for="username">Nome</label>
                    <input type="text" id="username" name="username" placeholder="Digite seu nome"
                    value="{% if not errors.name %}{{ request.form.username }}{% endif %}" required>
                </div>

                <div style="display: flex; gap: 8px; justify-content: space-between;">
                    <div class="auth_section">
                        <label for="cpf">Cpf</label>
                        <input type="text" id="cpf" name="cpf" inputmode="numeric" autocomplete="off" maxlength="14"
                            placeholder="{% if errors.cpf %}{{ errors.cpf }}{% else %}xxx.xxx.xxx-xx{% endif %}"
                            value="{% if not errors.cpf %}{{ request.form.cpf }}{% endif %}" required>
                    </div>

                    <div class="auth_section">
                        <label for="birthday">Data de Nascimento</label>
                        <input type="text" id="birthday" name="birthday" inputmode="numeric" autocomplete="off" maxlength="10"
                            placeholder="{% if errors.bday %}{{ errors.bday }}{% else %}dd/mm/aaaa{% endif %}"
                            value="{% if not errors.bday %}{{ request.form.birthday }}{% endif %}" required>
                    </div>
                </div>

                <div class="auth_section">
                    <label for="email">Email</label>
                    <input type="text" id="email" name="email"
                        placeholder="{% if errors.email %}{{ errors.email }}{% else %}nome@email.com{% endif %}"
                        value="{% if not errors.email %}{{ request.form.email }}{% endif %}" required>
                </div>

                <div style="display: flex; gap: 8px; justify-content: space-between;">
                    <div class="auth_section">
                        <label for="password" style="display: flex; gap: 4px; align-items: center;" class="pass_label">
                            Senha
                            <span class="pass_info">
                                <svg width="14" height="14" viewBox="0 0 800 800" fill="none"
                                    xmlns="http://www.w3.org/2000/svg">
                                    <path fill-rule="evenodd" clip-rule="evenodd"
                                        d="M400 0C620.913 0 800 179.084 800 400C800 620.913 620.913 800 400 800C179.087 800 0 620.913 0 400C0 179.084 179.087 0 400 0ZM399.998 530C372.383 530 349.998 552.385 349.998 580C349.998 607.615 372.383 630 399.998 630C427.612 630 449.998 607.615 449.998 580C449.998 552.385 427.612 530 399.998 530ZM393.325 175.002C354.39 175.002 321.665 185.61 295.19 206.765C263.818 232.107 248.144 269.534 248.144 319.075H333.198V318.504C333.198 299.602 337.18 284.097 345.122 272.004C356.084 255.747 373.862 247.612 398.44 247.612C413.564 247.612 426.438 251.582 437.007 259.509C450.234 270.493 456.87 287.119 456.87 309.429C456.87 323.423 453.45 335.894 446.653 346.865C440.979 356.694 431.907 366.328 419.412 375.788C392.947 393.935 375.74 411.899 367.81 429.68C361.003 444.426 357.583 467.869 357.583 500H437.58C437.58 478.821 440.395 462.949 446.094 452.358C450.622 443.66 460.086 434.404 474.456 424.566C499.422 406.03 517.178 388.821 527.774 372.94C540.623 354.041 547.063 331.912 547.063 306.57C547.063 254.053 525.703 216.799 482.947 194.856C457.248 181.628 427.376 175.002 393.325 175.002Z"
                                        fill="white" />
                                </svg>

                                <ul class="pass_tip">
                                    <li class="header">Dicas de segurança</li>
                                    <li>Mínimo de 8 caracteres</li>
                                    <li>Combine letras, números e símbolos</li>
                                    <li>Evite dados pessoais</li>
                                    <li>Não reutilize senhas antigas</li>
                                </ul>
                            </span>
                        </label>
                        <input type="password" id="password" name="password" value=""
                            placeholder="{% if errors.pass %}{{ errors.pass }}{% else %}Digite sua senha{% endif %}" required>
                    </div>

                    <div class="auth_section">
                        <label for="conf_pass">Confirme sua senha</label>
                        <input type="password" id="conf_pass" name="conf_pass" placeholder="Confirme sua senha" value="" required>
                    </div>
                </div>
                
                <div class="auth_section">
                    <div style="display: flex; align-items: center; gap: 4px;">
                        <input type="radio" name="radio" value="yes" required class="checkbox_terms" id="terms_checkbox"/>
                        <label style="overflow: hidden; display: flex; gap: 4px; align-items: center;">Eu concordo com os <div class="open_terms hide_action"><span>termos de uso</span></div></label>
                    </div>
                </div>

                <div class="auth_section">
                    <button type="submit" class="submit_btn signup"></button>
                </div>
            </form>

            <div class="division_container">
                <div class="divisor"></div>
                <span>OU</span>
                <div class="divisor"></div>
            </div>

            <div class="useful_buttons_container">
                <a type="submit" class="useful_btn" href="{{url_for('signup')}}">
                    <svg width="14" height="14" viewBox="0 0 806 800" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M402.897 0.000671741C301.567 -0.184426 203.901 37.8893 129.432 106.608C54.9629 175.326 9.17954 269.624 1.2378 370.643C-6.70393 471.661 23.7814 571.955 86.5973 651.466C149.413 730.978 239.929 783.845 340.044 799.497V518.416H237.97V402.263H340.044V313.765C340.044 212.697 399.88 157.386 491.898 157.386C536.147 157.386 581.904 165.431 581.904 165.431V264.488H531.118C481.338 264.488 465.751 295.664 465.751 327.342V402.766H577.379L559.78 518.919H466.254V800C658.334 769.83 805.662 603.394 805.662 402.766C805.16 180.013 625.147 0.000671741 402.897 0.000671741Z"
                            fill="white" />
                    </svg>
                    Entrar com Facebook
                </a>
                <a type="submit" class="useful_btn" href="{{url_for('login_google')}}">
                    <svg width="14" height="14" viewBox="0 0 800 800" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path
                            d="M400 158.333C459 158.333 511.833 178.667 553.5 218.333L667.666 104.167C598.333 39.6667 507.833 0 400 0C243.667 0 108.5 89.6667 42.6665 220.333L175.666 323.5C207.166 228.667 295.666 158.333 400 158.333Z"
                            fill="#EA4335" />
                        <path
                            d="M783 409.167C783 383 780.5 357.667 776.667 333.333H400V483.667H615.667C606 533 578 575 536 603.333L664.833 703.333C740 633.667 783 530.667 783 409.167Z"
                            fill="#4285F4" />
                        <path
                            d="M175.5 476.5C167.5 452.333 162.833 426.667 162.833 400C162.833 373.333 167.333 347.667 175.5 323.5L42.5 220.333C15.3333 274.333 0 335.333 0 400C0 464.667 15.3333 525.667 42.6667 579.667L175.5 476.5Z"
                            fill="#FBBC05" />
                        <path
                            d="M400 800C508 800 598.833 764.5 664.833 703.167L536 603.167C500.167 627.333 454 641.5 400 641.5C295.667 641.5 207.167 571.167 175.5 476.333L42.5 579.5C108.5 710.333 243.667 800 400 800Z"
                            fill="#34A853" />
                    </svg>
                    Entrar com Google
                </a>
            </div>
        </div>

        <span class="below_action">Já tem conta?
            <div class="hide_action">
                <a type="submit" href="{{url_for('login')}}">Entre aqui</a>
            </div>
        </span>

    <script>
        const dateInput = document.getElementById("birthday");

        dateInput.addEventListener("input", () => {
            let value = dateInput.value.replace(/\D/g, "");
            value = value.slice(0, 8);

            if (value.length > 4) {
                value = value.replace(/^(\d{2})(\d{2})(\d{0,4}).*/, "$1/$2/$3");
            } else if (value.length > 2) {
                value = value.replace(/^(\d{2})(\d{0,2}).*/, "$1/$2");
            }

            dateInput.value = value;
        });

        const cpfInput = document.getElementById("cpf");

            cpfInput.addEventListener("input", () => {
                let value = cpfInput.value.replace(/\D/g, ""); // remove tudo que não é número

                value = value.slice(0, 11); // limite CPF

                if (value.length > 9) {
                    value = value.replace(/^(\d{3})(\d{3})(\d{3})(\d{0,2}).*/, "$1.$2.$3-$4");
                } else if (value.length > 6) {
                    value = value.replace(/^(\d{3})(\d{3})(\d{0,3}).*/, "$1.$2.$3");
                } else if (value.length > 3) {
                    value = value.replace(/^(\d{3})(\d{0,3}).*/, "$1.$2");
                }

                cpfInput.value = value;
            });
    </script>
</body>
</html>